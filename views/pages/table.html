<div class="panel panel-default">
	<div class="panel-heading">
		<span> <i class="fa fa-table fa-fw"></i></span> Docket Audit Data Table
	</div>
	<!-- /.panel-heading -->
	<div class="panel-body">
		<div class="table-responsive">
			<table class="table table-striped table-bordered table-hover" id="docker_report_table">
				<thead>
					<tr>
						<th>Application</th>
						<th>Event Name</th>
						<th>Source</th>
						<th>Date Time</th>
						<th>Type</th>
						<th>Status</th>
					</tr>
				</thead>
				<tbody>
					{{#each auditRecords}}
					<tr onclick="showRowDetails('{{this._id}}')" data-toggle="modal" data-target="#myModal">
						<td>
							{{this.application}}
						</td>
						<td>
							{{this.name}}
						</td>
						<td>
							{{this.source}}
						</td>
						<td>
							{{this.eventDateTime}}
						</td>
						<td>
							{{this.type}}
						</td>
						<td align="center">
							{{#if_eq this.status "success"}}
							<i class="fa fa-thumbs-up" style="color:green;"></i> {{/if_eq}} {{#if_eq this.status "failure"}}
							<span style="color:red;">X</span> {{/if_eq}}
						</td>
					</tr>
					{{/each}}
				</tbody>
			</table>
		</div>
		<!-- /.table-responsive -->
	</div>
	<!-- /.panel-body -->
</div>
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

	<div class="modal-dialog" style="margin-left: 10%; margin-right: 0; width: 80%;">

		<div class="modal-content">
			<!-- <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">&times;</button>
				<h4 class="modal-title" id="myModalLabel">Audit Details</h4>
			</div> -->
			<div class="modal-body" id="docket_table_row_details"></div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<!-- <button type="button" class="btn btn-primary">Save changes</button> -->
			</div>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<!-- Page-Level Plugin Scripts - Tables -->
<script src="/assets/js/plugins/dataTables/jquery.dataTables.js"></script>
<script src="/assets/js/plugins/dataTables/dataTables.bootstrap.js"></script>
<script type="text/javascript">
	function showRowDetails(id) {
		$.ajax({
			type: 'GET',
			url: '/rowDetails?id=' + id,
			success: function(response) {
				if (response.status === 401) {
					window.location.href = "/login"
				}
				$("#docket_table_row_details").html(response);
			},
			error: function(err) {
				alertify.error(err);
			}
		});
	}
</script>
<script>
	$(document).ready(function() {
		$('#docker_report_table').dataTable();
	});
	// tooltip demo
	$('.tooltip-demo').tooltip({
		selector: "[data-toggle=tooltip]",
		container: "body"
	})

	// popover demo
	$("[data-toggle=popover]").popover()
</script>